# SeedSearch の主な機能紹介

このドキュメントでは、SeedSearch のセットアップ方法と主な機能について説明します。

## 事前に必要な環境

SeedSearch を利用するには、以下の環境が必要です：

### 必須環境

- **Python 3.11 以上**: プログラミング言語
- **uv**: 高速な Python パッケージマネージャー
  - インストール方法: [公式ドキュメント](https://docs.astral.sh/uv/)
  - macOS/Linux: `curl -LsSf https://astral.sh/uv/install.sh | sh`
  - Windows: `powershell -c "irm https://astral.sh/uv/install.ps1 | iex"`
  - **Git**: バージョン管理システム（ソースコードの取得に使用）

---

## 利用するまでの流れ

SeedSearch のインストール方法は 2 つあります：

### 方法 A: GitHub から直接インストール（推奨）

uv を使って、リポジトリをクローンせずに直接インストールできます：

```bash
# GitHubリポジトリから直接インストール
uv pip install git+https://github.com/KOU050223/SeedSearch.git

# または、ツールとしてインストール（グローバルに使用可能）
uv tool install git+https://github.com/KOU050223/SeedSearch.git
```

この方法では、プロジェクトのクローンは不要です。

### 方法 B: リポジトリをクローンしてインストール（開発者向け）

開発やカスタマイズを行いたい場合は、この方法を使用します：

#### 1. プロジェクトの取得

```bash
git clone https://github.com/KOU050223/SeedSearch.git
cd SeedSearch
```

#### 2. 依存関係のインストール

```bash
# 仮想環境の作成と依存関係のインストール
uv sync

# または、開発モードでインストール
uv pip install -e .
```

### 動作確認

インストールが正しく完了したか確認します：

```bash
# 方法Aでインストールした場合
seedsearch --help
seedsearch info

# 方法Bでインストールした場合（プロジェクトディレクトリ内で）
uv run seedsearch --help
uv run seedsearch info

# ツールとしてインストールした場合（どこからでも実行可能）
seedsearch --help
seedsearch info
```

---

## 基本的な使い方

> **注**: 以下のコマンド例では`seedsearch`と記載していますが、方法 B でインストールした場合は`uv run seedsearch`に置き換えてください。

### 1. シンプルな検索

```bash
# 単一キーワード検索
seedsearch search "AI"

# 結果の上位5件のみ表示
seedsearch search "AI" --limit 5
```

### 2. 複数ワード検索（AND 検索）

スペース区切りで複数キーワードを指定できます。デフォルトはAND検索（すべて含む）です。

```bash
# AIとロボットの両方を含む研究を検索（AND検索、デフォルト）
seedsearch search "AI ロボット"

# IoTとセンサーの両方を含む研究を検索
seedsearch search "IoT センサー"
```

### 3. フィールド指定検索

特定のフィールドのみを対象に検索できます：

```bash
# キーワードフィールドのみ検索
seedsearch search "ロボット" --field keyword

# 研究者名のみ検索
seedsearch search "松尾" --field researcher

# タイトルのみ検索
seedsearch search "AI" --field title
```

**利用可能なフィールド**:

- `all`: 全フィールド（デフォルト）
- `title`: 研究課題名
- `keyword`: キーワード
- `overview`: 研究概要
- `researcher`: 研究代表者・研究分担者

### 4. 完全一致検索

`--exact`オプションで完全一致検索ができます：

```bash
seedsearch search "人工知能" --exact
```

### 5. 詳細情報の表示

研究課題番号を指定して詳細情報を表示：

```bash
seedsearch show 25K14659
```

---

## 主な機能

### 1. 柔軟な検索機能

- **部分一致検索**: キーワードを含む研究を検索（デフォルト）
- **完全一致検索**: `--exact`オプションで正確な一致のみ
- **複数ワード検索**: AND/OR検索に対応（デフォルトはAND検索）
- **フィールド指定**: 検索対象を限定して効率的に検索

### 2. キーワードハイライト

検索結果でキーワードが色付きでハイライト表示されるため、重要な情報を素早く見つけられます。

### 3. 研究者情報の重点表示

- 研究代表者と研究分担者の情報を優先的に表示
- 所属機関・学部・職位も併せて表示
- 福岡工業大学の研究者を見つけやすい設計

---

## 実際の使用例

### 例 1: 卒業研究のテーマ探し

「IoT とセンサー技術」に興味がある場合：

```bash
seedsearch search "IoT センサー" --limit 10
```

**出力例**:

```
検索結果: 3件

1. [25K08245] 微気象予測と地理的要因により高精細・高信頼を実現する早期豪雨災害警報システム
   研究代表者: 内田 法彦 福岡工業大学, 情報工学部, 教授 (10610298)
   キーワード: 早期豪雨災害警報システム, 災害情報通信, IoT...
```

### 例 2: 詳細情報の表示


### 例 2: 研究分野の専門家探し

「ロボット」分野の研究者を探す場合：

```bash
seedsearch search "ロボット" --field researcher
```
---

## 工夫点

### 1. 開発の流れ

- **モジュール化設計**: CLI ツールとしてメンテナンスしやすいようにライブラリを採用し、機能ごとにモジュール化を行った
  - `cli.py`: コマンドラインインターフェース
  - `search.py`: 検索ロジック
  - `display.py`: 結果表示
  - `loader.py`: データ読み込み
- **高速開発環境**: uv を使用して、依存関係の管理と高速なパッケージインストールを実現
- **バージョン管理**: Git・Github を用いて、ログを残す・コードを共有することにより、チーム開発・継続的な開発が可能な体制を整えた
- **ドキュメント管理**: `docs/`にドキュメントをまとめ、情報共有とナレッジの蓄積を促進した

### 2. 検索機能の工夫

- **複数ワード検索**: AND/OR検索に対応し、幅広い検索ニーズに対応（デフォルトはAND検索で、`--operator`オプションでOR検索に切り替え可能）
- **研究者情報の最適化**: KAKEN データの「研究代表者」「研究分担者」フィールドを重点的に解析・表示することで、学内ユーザーが必要とする情報を効率的に提供する設計
- **検索結果の優先度設定**: ユーザーが重要な情報に迅速にアクセスできるよう工夫
- **キーワードハイライト**: ANSI カラーコードを使用して、検索キーワードを視覚的に強調

### 3. ユーザビリティの向上

- **直感的な CLI**: `--field`, `--operator`, `--exact`など、わかりやすいオプション名
- **充実したヘルプ**: `--help`で詳細な使い方を確認可能
- **エラーメッセージ**: 問題が発生した際に、明確なエラーメッセージと解決策を提示

### 4. 拡張性の確保

- **モジュール設計**: 将来的な機能追加（ベクトル検索、Web UI 等）を見据えた拡張可能な設計
- **型ヒント**: Python の型ヒントを活用し、コードの可読性と保守性を向上

---

### Python/uv が見つからない

```
command not found: python
command not found: uv
```

**解決策**:

- Python をインストールしてください（公式サイト: https://www.python.org/）
- uv をインストールしてください（公式サイト: https://docs.astral.sh/uv/）

---

## さらに詳しく知りたい方へ

- **設計ドキュメント**: `docs/design_docs.md`で詳細な設計思想や技術スタックを確認できます
- **ソースコード**: GitHub リポジトリ（https://github.com/KOU050223/SeedSearch）または`src/seedsearch/`で実装の詳細を確認できます
- **コマンドヘルプ**: `seedsearch --help`で利用可能なコマンド一覧を表示
